<ion-content>
  <div class="spinner-container" *ngIf="showSpinner">
    <video autoplay loop muted controls="false" preload="metadata" webkit-playsinline="webkit-playsinline"
      class="videoPlayer">
      <source src="../../assets/video.mp4" type="video/mp4">
    </video>
  </div>

  <div class="background-container" *ngIf="!showSpinner">
    <img src="../../assets/VESTA__1_-removebg-preview.png" alt="Logo" class="logo">
    <div class="login-container">
      <ion-card class="login-card">
        <ion-card-content>
          <div class="title-container">
            <ion-title>¡Hola de nuevo!</ion-title>
          </div>
          <form #loginForm="ngForm" (ngSubmit)="login(loginForm)">
            <div class="fields-container">
              <ion-item>
                <ion-label position="floating">Correo electrónico</ion-label>
                <ion-input name="email" type="email" ngModel required></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Contraseña</ion-label>
                <ion-input name="password" [type]="passwordType" ngModel required></ion-input>
                <ion-icon [name]="passwordIcon" slot="end" (click)="togglePasswordVisibility()"></ion-icon>
              </ion-item>
            </div>
            <div class="button-container">
              <ion-button shape="round" size="large" type="submit" class="login-button"
                [disabled]="loginForm.invalid || showSpinner">
                <ion-spinner *ngIf="showSpinner" name="bubbles"></ion-spinner>
                Iniciar Sesión
              </ion-button>
            </div>
          </form>
        </ion-card-content>
      </ion-card>
    </div>
  </div>
</ion-content>